{% load custom_tags %}
{% if success == "true" %}
<table id="display-table-records" class="table-auto w-full overflow-hidden mt-4 border border-slate-300 dark:border-slate-900 border-opacity-50 rounded-2xl shadow-md">
    <thead>
        <tr class="text-sm leading-normal text-theme rounded-2xl shadow-md bg-white dark:bg-slate-800
        border border-slate-300 dark:border-slate-900 border-opacity-50">
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">STT</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Tên nhận dạng khi mua</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Tài xế</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Tên GPS</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Đơn giá</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Nơi làm việc</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Số giờ làm</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Doanh thu</th>

            <th colspan="6" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Chi phí xe</b></th>
            <th colspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Chi phí lương</b></th>

            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Tổng Chi phí</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Lợi nhuận</th>
            <th rowspan="2" class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Ghi chú</th>
        </tr>

        <tr class="text-sm leading-normal text-theme shadow-md bg-white dark:bg-slate-800
        border border-slate-300 dark:border-slate-900 border-opacity-50">
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Lít/tiếng</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Dầu DO</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Nhớt</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Sửa xe + mua vật tư</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Khấu hao xe</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Lãi ngân hàng</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Lương cơ bản</th>
            <th class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-left font-semibold">Lương theo giờ</th>
        </tr>

    </thead>
    {% for row in rows %}
        <tbody">
            <tr class=" bg-gray-50 hover:bg-blue-100 dark:bg-gray-800 dark:even:bg-gray-700 dark:hover:bg-gray-600">
                {% for header in headers %}
                <td class="px-6 py-3 border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300">
                    {{ row|get_value:header }}
                </td>
                {% endfor %}
            </tr>
            
        </tbody>
    {% endfor %}
</table>


{% else %}
    <p class="text-red-600">{{ message }}</p>
{% endif %}