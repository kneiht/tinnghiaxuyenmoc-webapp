{% load custom_tags %}
{% load humanize %}
{% load static %}

<!-- Cards -->
{% if model == 'Project' %}
    {% include 'components/record_displays/projects.html' %}

{% elif model == 'Job' %}
    {% include 'components/record_displays/jobs.html' %}

{% elif model == 'Permission' %}
    {% include 'components/record_displays/permissions.html' %}

{% elif model == 'VehicleOperationRecord' %}
    {% include 'components/record_displays/vehicle_operations.html' %}

{% else %}
    {% include 'components/record_displays/general.html' %}

{% endif %}



{% if max_page >= 2 %}
<div up-hungry id="load-more" class="flex justify-center items-center gap-4 my-4 pagination-container {% if current_page == 1 %} opacity-0 {% endif %}">
    {% if current_page > 1 %}
        <a class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" 
           up-target="#display-records, #load-more:maybe"
           href="{% url 'load_elements' %}?q={% encode_params page=page model=model start_date=start_date end_date=end_date check_date=check_date check_month=check_month group_by=group_by tab=tab elements='display_records' current_page=1 project_id=project_id %}&all={{ search_phrase }}">
            1
        </a>
    {% endif %}
    
    {% if current_page > 3 %}
        <span class="text-gray-500">...</span>
    {% endif %}
    
    {% if current_page > 2 %}
        <a class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" 
           up-target="#display-records, #load-more:maybe"
           href="{% url 'load_elements' %}?q={% encode_params page=page model=model start_date=start_date end_date=end_date check_date=check_date check_month=check_month group_by=group_by tab=tab elements='display_records' current_page=current_page|add:"-1" project_id=project_id %}&all={{ search_phrase }}">
            {{ current_page|add:"-1" }}
        </a>
    {% endif %}
    
    <span class="px-4 py-2 bg-green-500 text-white rounded-md">{{ current_page }}</span>
    
    {% if current_page < max_page %}
        <a class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" 
           up-target="#display-records, #load-more:maybe"
           href="{% url 'load_elements' %}?q={% encode_params page=page model=model start_date=start_date end_date=end_date check_date=check_date check_month=check_month group_by=group_by tab=tab elements='display_records' current_page=current_page|add:"1" project_id=project_id %}&all={{ search_phrase }}">
            {{ current_page|add:"1" }}
        </a>
        
        {% if max_page and current_page < max_page|add:"-1" %}
            <span class="text-gray-500">...</span>
            <a class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" 
               up-target="#display-records, #load-more:maybe"
               href="{% url 'load_elements' %}?q={% encode_params page=page model=model start_date=start_date end_date=end_date check_date=check_date check_month=check_month group_by=group_by tab=tab elements='display_records' current_page=max_page project_id=project_id %}&all={{ search_phrase }}">
                {{ max_page }}
            </a>
        {% endif %}
    {% endif %}
</div>
{% endif %}
