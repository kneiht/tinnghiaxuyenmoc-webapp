{% load custom_tags %}

{% if page == 'page_each_project' %}
<div id="title-bar" class="flex flex-row justify-items-center items-center text-center mb-3 gap-3 mx-auto container">

    <div class="flex flex-wrap gap-x-10 gap-y-3 justify-items-center items-center w-full">
        {% comment %} <div class="flex gap-4 justify-between items-center">
            <p class="text-2xl text-center font-semibold text-theme truncate"> {{ title }} </p>
        </div> {% endcomment %}
        <div class="flex flex-wrap gap-x-10 gap-y-3 items-center">
            <div id="project-display-mode" class="flex gap-3">
                <a id="show-gantt-jobs" class="btn btn-primary text-nowrap cursor-pointer">
                    <i class="fas fa-bar-chart px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Gantt </span>
                </a>
                
                <a id="show-table-jobs" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe, #infor-bar:maybe" up-preload href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' model='Job' project_id=project_id check_date=check_date elements='title_bar|tool_bar|infor_bar|display_records' %}" class="btn btn-primary text-nowrap">
                    <i class="fas fa-table px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Bảng </span>
                </a>    

                <a id="show-weekplan" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe, #infor-bar:maybe" up-preload href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' model='Job' project_id=project_id check_date=check_date elements='title_bar|infor_bar|weekplan_table' %}" class="btn btn-primary text-nowrap">
                    <i class="fas fa-bullseye px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> KH tuần </span>
                </a>
            </div>

            <div class="flex gap-3">
                <a id="operationn-order" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe" up-preload href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' model='OperationOrder' project_id=project_id check_date=check_date elements='tool_bar|display_records' %}" class="btn btn-primary text-nowrap">
                    <i class="fas fa-usd px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Đề xuất T.toán </span>
                </a>
            </div>

            <div class="flex gap-3">
                <a up-preload="insert" href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' project_id=project_id model='SupplyOrder' elements='tool_bar|display_records' %}"
                    id="supply-order" class="btn btn-primary text-nowrap"
                    up-target="#modal:maybe, #display-records:maybe, #tool-bar:maybe">
                    <i class="fas fa-shopping-cart  px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Đặt vật tư </span>
                </a>
            
                <a href="{% url 'form_cost_estimation_table' project_id=project_id %}"
                    id="cost-estimation" class="btn btn-primary text-nowrap"
                    up-preload="insert" up-target="#modal:maybe, #display-records, #tool-bar">
                    <i class="fas fa-clipboard-list   px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block">  Dự toán vật tư </span>
                </a>

                <a id="inventory-button" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe"
                    href="{% url 'supply_inventory' project_id=project_id %}?check_date={{ check_date }}" class="btn text-nowrap" style="background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%); color: white;">
                    <i class="fas fa-archive px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Kho </span>
                </a>

            </div>
            <div class="flex gap-3">
                <a up-preload="insert" href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' project_id=project_id model='SubJobOrder' elements='tool_bar|display_records' %}"
                    id="sub-job-order" class="btn btn-primary text-nowrap"
                    up-target="#modal:maybe, #display-records:maybe, #tool-bar:maybe">
                    <i class="fas fa-hard-hat px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Nghiệm thu CV </span>
                </a>
                <a href="{% url 'form_sub_job_cost_estimation_table' project_id=project_id %}"
                    id="cost-estimation" class="btn btn-primary text-nowrap"
                    up-preload="insert" up-target="#modal:maybe, #display-records, #tool-bar">
                    <i class="fas fa-clipboard-list   px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Dự toán CV </span>
                 </a>

            </div>

            <input id="check_date" type="date" name="check_date" class="form-input w-36">

            <div class="flex gap-3">
                <a id="project-files" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe" href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' model='ProjectFile' project_id=project_id elements='tool_bar|display_records' %}" class="btn text-nowrap" style="background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%); color: white;">
                    <i class="fas fa-file px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Tài liệu </span>
                </a>
                

                {% comment %} <a id="inventory-record" up-preload="insert" up-target="#display-records:maybe, #tool-bar:maybe" href="{% url 'load_elements' %}?q={% encode_params page='page_each_project' model='SupplyInventoryRecord' project_id=project_id elements='tool_bar|display_records' %}" class="btn text-nowrap" style="background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%); color: white;">
                    <i class="fas fa-file px-2 md:px-0" style="font-size: 16px;" aria-hidden="true"></i>
                    <span class="ms-3 hidden md:block"> Nhập xuất kho </span>
                </a> {% endcomment %}


            </div>
        </div>
    </div>
</div>

{% else %}
<div id="title-bar" class="flex flex-nowrap justify-between mb-6 gap-5 mx-auto container">
    <div class="w-3/6 flex gap-4 justify-between items-center mt-2">
        <p class="text-2xl text-center font-semibold text-theme truncate"> {{ title }} </p>
    </div>

    <div class="flex gap-10 justify-end items-center mt-2">
        {% if create_new_button_name %}
        <a id="create-new" href="{% url 'load_elements' %}?q={% encode_params model=model check_date=check_date project_id=project_id elements='modal_form' %}" up-preload="insert" up-target="#modal" class="max-sm:hidden btn btn-primary text-nowrap">
            <i class="fas fa-plus me-3" style="font-size: 16px;"></i>
            <span class="max-sm:hidden me-3"> {{ create_new_button_name }} </span>
        </a>
        {% endif %}
    </div>
</div>

{% endif %}