<!-- This is the navagation bar section, which contains the navigation elements. -->
<div id="nav_bar" class="flex opacity-0 justify-between items-center gap-4 h-8 my-3">

    <!-- This is the left part of the navagation bar with the logo, buttons -->
    <div id="nav_bar_left" class="flex justify-start items-center gap-5">
        <img src="/static/images/logo.png?v=28" alt="Logo" class="object-contain h-10 w-28">

        <!-- This is the center part of the navagation bar with various icons and links. It only appears when user is in dashboard-->
        {% if select != 'schools' %}
            <div id="nav_menu" class="flex items-center m-auto gap-5">

                <a href="{% url 'dashboard' school.pk %}" class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme"
                        up-target="#title_bar, #db_tool_bar, #display_cards, #infor-bar">
                    <span class="fa fa-home w-8" style="font-size: 18px;"></span>
                    Home
                </a>

                <a href="{% url 'classes' school.pk %}" class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme" 
                            up-target="#title_bar, #db_tool_bar, #display_cards, #infor-bar">
                    <span class="fa fa-chalkboard w-8" style="font-size: 18px;"></span>
                    Classes
                </a>

                <a href="{% url 'students' school.pk %}" class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme" 
                            up-target="#title_bar, #db_tool_bar, #display_cards, #infor-bar">
                    <span class="fa fa-user-graduate w-8" style="font-size: 18px;"></span>
                    Students
                </a>
                <a href="{% url 'crm' school.pk %}" class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme" 
                            up-target="#title_bar, #db_tool_bar, #display_cards, #infor-bar">
                    <span class="fa fa-users w-8" style="font-size: 18px;"></span>
                    CRM
                </a>


                <a href="{% url 'financialtransactions' school.pk %}" class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme"
                        up-target="#title_bar, #db_tool_bar, #display_cards, #infor-bar">
                    <span class="fa fa-dollar-sign w-8" style="font-size: 18px;"></span>
                    Finance
                </a>
                <a class="p-2 flex justify-start items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer text-theme">
                    <span class="fa fa-toolbox w-8" style="font-size: 18px;"></span>
                    Tools
                </a>

                <div id="nav_menu_more" class="menu hidden relative">
                    <button class="menu-button space-y-1 p-3  items-center rounded-xl hover:bg-gray-200 dark:hover:bg-gray-800 text-nowrap cursor-pointer">
                        <div class="w-7 h-[3px] bg-theme rounded-full"></div>
                        <div class="w-7 h-[3px] bg-theme rounded-full"></div>
                        <div class="w-7 h-[3px] bg-theme rounded-full"></div>
                    </button>
                      
                    <!-- Dropdown Menu -->
                    <div class="dropdown-menu absolute hidden px-5 py-3 space-y-3 right-0 top-10">
                        <!-- Js -->
                    </div>
                </div>
            </div>
        {% endif %}
    </div>


    <!-- This div contains a button for the school dropdown menu, it only appears when user is in school mangement page. -->
    {% if select != 'schools' %}
        <div id="menu-school" class="menu relative">
            <div id="current-school-infor" school-id="{{ school.pk }}" class="hidden"></div>
            <button class="menu-button flex justify-center items-center
                px-3 h-8 rounded-xl w-full
                bg-gradient-to-r from-theme-500 to-theme-700
                dark:from-theme-700 dark:to-theme-800">
                <p class="text-white dark:text-slate-300 text-sm font-semibold truncate">{{ school.name }}</p>
            </button>
            <!-- Dropdown Menu -->
            <div class="dropdown-menu absolute hidden right-0">
                <a href="{% url 'schools' %}" class="">
                    <i class="fa fa-school ml-3 mr-5"></i> 
                    <span>Manage schools</span>
                </a>
                <a href="{% url 'school_detail' school.pk %}?get=form" up-target="#modal" up-history="false" class="">
                    <i class="fa fa-gear ml-3 mr-5"></i> 
                    <span>Edit school information</span>
                </a>
            </div>
        </div>
    {% endif %}


    <!-- This is the right part of the navagation bar with quick settings, and profile dropdown. -->
    <div id="nav_bar_right" class="flex justify-end items-center gap-5">

        <!-- This div contains quick settings that can be toggled. -->
        <div id="quick-settings" class="flex justify-between gap-4">

            <!-- Toggle for light and dark theme. -->
            <label class="text-theme transition-all duration-300 ease-in-out cursor-pointer">
                <!-- this hidden checkbox controls the state -->
                <input id="theme-toggle" class="hidden" type="checkbox">
                        
                <div class="relative w-7 h-7">
                    <!-- sun icon -->
                    <svg id="sun-icon" class="absolute inset-0 fill-current transition-opacity duration-300 ease-in-out" style="opacity: 1;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
                    </svg>
                    <!-- moon icon -->
                    <svg id="moon-icon" class="absolute inset-0 fill-current transition-opacity duration-300 ease-in-out" style="opacity: 0;"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
                    </svg>
                </div> 
            </label>

            <!-- Toggle for languages. -->
            <label class="text-theme transition-all duration-300 ease-in-out cursor-pointer">
                <!-- this hidden checkbox controls the state -->
                <input id="theme-toggle" class="hidden" type="checkbox">
                        
                <div class="relative w-7 h-7">
                    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--emojione" preserveAspectRatio="xMidYMid meet" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><circle cx="32" cy="32" r="30" fill="#f42f4c"></circle><path fill="#ffe62e" d="M32 39l9.9 7l-3.7-11.4l9.8-7.4H35.8L32 16l-3.7 11.2H16l9.8 7.4L22.1 46z"></path></g></svg>
                </div> 
            </label>
        </div>

        <!-- Profile Picture and Dropdown  -->
        <div id="profile" class="menu relative">
            <!-- Profile picture dropdown button. -->
            <div class="menu-button cursor-pointer">
                <div class="flex justify-center items-center w-10 h-10 border-2 border-cyan-700 rounded-full shadow-xl">
                    <img src="https://tecdn.b-cdn.net/img/new/standard/nature/184.jpg" alt="Profile Picture" class="rounded-full object-cover w-11 h-9">
                </div>
            </div>
            <!-- Dropdown Menu -->
            <ul id="menu-profile" class="dropdown-menu hidden right-0">

                <a href="#" class="">
                    <i class="fa fa-user ml-3 mr-6"></i>
                    <span>Profile</span>
                </a>
                <a href="#" class="">
                    <i class="fa fa-gear ml-3 mr-5"></i>
                    <span>Settings</span>
                </a>
                <a href="{% url 'password_change' %}" class="">
                    <i class="fa fa-key ml-3 mr-5"></i> 
                    <span>Change password</span>
                </a>
                <a href="{% url 'logout' %}" class="">
                    <i class="fa fa-sign-out ml-3 mr-5"></i>
                    <span>Log out</span>
                </a>
            </ul>
        </div>
    </div>
</div>
<!-- Horizontal line to separate the navagation bar from the rest of the content. -->
<hr class="border-t border-gray-300 dark:border-gray-800 mt-3 mb-5" />



